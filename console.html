<html>
<head>
<title>console</title>
<link href="/css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
<meta http-equiv="Content-Type" content="text/html"; charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
<script src="/js/materialize.js"></script>
</head>
<body>

<input type="password" id="ps">
<input type="button" id="but">


<table class="striped responsive-table" id="tab1"></table><br><br><br>
<table class="striped responsive-table" id="tab2"></table><br><br><br>


<div id="res1_app"></div>
<div id="res2_app"></div>

</body>
</html>




<script src="/socket.io/socket.io.js"></script>
<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script>
    var socket = io("https://summer2016.infor.org");
    var append = false;
    document.getElementById('but').onclick=function(){
        var ps=document.getElementById('ps').value;
        socket.emit('mongo q',ps);

        socket.on('mongo d',function(res1,res2){
            
            var app1 = "",app2 = "";
            for(var i=0;i<res1.length;i++){
                app1 += '<tr>';
                for(var ele in res1[i]){
                    app1 += ('<td>'+res1[i][ele]+'</td>');
                }
                app1 += '</tr>'
            }
            for(var i=0;i<res2.length;i++){
                app2 += '<tr>';
                for(var ele in res2[i]){
                    app2 += ('<td>'+res2[i][ele]+'</td>');
                }
                app2 += '</tr>'
            }
            if(!append){
                $('#tab1').append(app1);            
                $('#tab2').append(app2);
                append=true;
            }

            $('#ps').remove();
            $('#but').remove();
        })
    }
</script>
